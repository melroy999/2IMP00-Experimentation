model Test2 {
    actions a

	classes
	P {
	  variables Integer y Integer[2] x
	  state machines
	    SM1 {
		  initial SMC0 states SMC1
		  transitions
			from SMC0 to SMC1 {
			  [x[0] = 0; x[0] := 0; y := y + 1]
			}
			from SMC0 to SMC1 {
			  x[0] = 1; y > 0
			}
			from SMC0 to SMC1 {
			  [x[0] = 0; y := y + 1]
			}
			from SMC0 to SMC1 {
			  x[0] >= 3
			}
			from SMC0 to SMC1 {
			  y >= 3; y := 0
			}
			from SMC1 to SMC0 {
                True
			}
	    }
	    SM2 {
		  initial SMC0 states SMC1
		  transitions
			from SMC0 to SMC1 {
			  y = 2
			}
			from SMC0 to SMC1 {
			  y = 3
			}
			from SMC0 to SMC1 {
			  y = 4
			}
			from SMC0 to SMC1 {
			  y + 3 = 2
			}
			from SMC0 to SMC1 {
			  y + 3 = 3
			}
			from SMC0 to SMC1 {
			  y + 3 = 4
			}
			from SMC1 to SMC0 {

			}
	    }
	}
	objects p: P(y:=1)
}
