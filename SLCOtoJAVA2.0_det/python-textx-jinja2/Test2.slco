model Test {
    actions a b

	classes
	P {
	  variables Integer y
	  state machines
		SM1 {
		  variables Integer[2] x
		  initial SMC0 states SMC1
		  transitions
			from SMC0 to SMC1 {
			  x[0] = 0
			}
			from SMC0 to SMC1 {
			  x[0] = 1
			}
			from SMC0 to SMC1 {
			  x[0] = 0
			}
			from SMC0 to SMC1 {
			  x[1] = 2
			}
			from SMC0 to SMC1 {
			  x[1] = 3
			}
			from SMC0 to SMC1 {
			  x[0] <= 3
			}
	    }
		SM2 {
		  variables Integer[2] x
		  initial SMC0 states SMC1
		  transitions
			from SMC0 to SMC1 {
			  x[0] = 0
			}
			from SMC0 to SMC1 {
			  x[0] = 1
			}
			from SMC0 to SMC1 {
			  x[0] = 2
			}
			from SMC0 to SMC1 {
			  x[0] = 3
			}
			from SMC0 to SMC1 {
			  x[0] <= 3
			}
	    }
		SM3 {
		  variables Integer x
		  initial SMC0 states SMC1
		  transitions
			from SMC0 to SMC1 {
			  x >= 0 && x < 3
			}
			from SMC0 to SMC1 {
			  x = 1
			}
			from SMC0 to SMC1 {
			  x = 4
			}
	    }
	}
	objects p: P(y:=1)
}
